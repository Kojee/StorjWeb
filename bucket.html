<html>
    <head>
        <title> Storj Web Interface <title></title>
        <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
        <script src="js/jquery-3.2.0.min.js"></script>
        <script src="js/bootstrap.min.js"></script>
        <script src="js/storj.es6.js"></script>
        <script src="js/upload.js"></script>
        <script src="js/utility.js"></script>
        <link rel="stylesheet" type="text/css" href="css/custom.css">
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    </head>
    <body>
        <div class="container">
            <div class="row">
                <div class="col-md-4"></div>
                <div id="centerCol" class="col-md-4">
                    <script>
                        var storj = getStorj();
                        var ul = document.createElement("ul");
                        ul.setAttribute("class", "list-group");
                        bucketId = findGetParameter("id");
                        storj.getFileList(bucketId, function cb(e, files) {
                            var index;
                            for(index = 0; index < files.length; index++){
                                var a = document.createElement("a");
                                var li = document.createElement("li");
                                var t = document.createTextNode(files[index].filename);
                                li.setAttribute("class", "list-group-item");
                                li.appendChild(t);
                                a.setAttribute("href", "file.html?id=" + files[index].id);
                                a.appendChild(li);
                                ul.appendChild(a);
                            }
                            console.log(files);
                            var upLabel = document.createElement("label");
                            upLabel.setAttribute("class", "btn btn-default btn-file");
                            var upInput = document.createElement("input");
                            upInput.setAttribute("type", "file");
                            upInput.setAttribute("onchange", "upload(bucketId)");
                            upInput.setAttribute("id", "input");
                            upInput.style.display = "none";
                            var upText = document.createTextNode("Upload file");
                            var li = document.createElement("li");
                            li.setAttribute("class", "list-group-item");
                            upLabel.appendChild(upText);
                            upLabel.appendChild(upInput);
                            li.appendChild(upLabel);
                            ul.appendChild(li);
                        })

                        document.getElementById("centerCol").appendChild(ul);
                        
                    </script>
                </div>
                <div class="col-md-4"></div>
                
            </div>
        </div>
    </body>
</html>
